# Модель многозадачности и консистентности
Описание сценарием работы Системы одновременно большого количества акторов 

![143](https://i.imgur.com/d3DOwzu.jpg)

## Сценарий "Согласованность каталога"
Например, Пользователь 1 получает в Приложении свой локальный каталог, а Пользователь 2 не получил обновление - тогда данные на экране смартфона Пользователя 1 и Пользователя 2 - будут разными. Чтобы минимизировать проблемы от рассогласованности необходимо производить обновления в Приложении любого пользователя 1 раз в 0,5 часа. 
Если заказанный локально товар уже не присутствует в системном каталоге - нужно сообщить о неподтверждении Заказа пользователя и запретить оплату данного товара с одновременным предложением о заказе товара-заменителя.

## Сценарий "Согласованность запаса на складе"
Также обстоят дела и с обновлением информации о доступном запасе товара с региональных складов. С той лишь разницей, что если товара на ближайшем региональном складе нет/не хватает, что Пользователю предлагается перевыбрать более поздний слот доставки с учетом доставки с более удаленного склада с начислением дополнительного количества бонусов/кэшбека либо вернуть деньги. 

## Сценарий "Согласованность цены"
При централизованном системном обновлении цен на товары в каталоге, также может возникнуть рассогласованность данных в пользовательских локальных каталогах, при этом заказ уже может быть создан и направлен на подтверждение или даже оплачен. В данном случае нужно принимать на себя риски продаж товаров по "старым" ценам.

## Сценарий "Согласованность скидки"
Для скидок/акций то же правило, что и для цен.


## Сценарий "Согласованность слота по доставке"
Если несколько Пользователей в одном конкретном регионе выбрали один и тот же слот доставки нужно предусмотреть бизнес-решение проблемы. Сдвиги доставки должны быть компенсированы покупателю либо передвижение допустимо в рамках макрослота (день/сутки). 








